(this["webpackJsonpminefield-a-game"]=this["webpackJsonpminefield-a-game"]||[]).push([[0],{17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(8),a=(n(17),n(6)),l=n(2),o=n(5),i=n(0),u={bomb:"\ud83d\udca3","-2":"\ud83d\udca3",flag:"\u2753","-1":"\u2753",target:"\ud83c\udfaf","-4":"\ud83c\udfaf",fresh:"\u2b1c",0:"\ud83d\udfe9",1:"1\ufe0f\u20e3",2:"2\ufe0f\u20e3",3:"3\ufe0f\u20e3",4:"4\ufe0f\u20e3",5:"5\ufe0f\u20e3",6:"6\ufe0f\u20e3",7:"7\ufe0f\u20e3",8:"8\ufe0f\u20e3"},f={target:-4,void:-3,bomb:-2,flag:-1,fresh:0,0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8},s={0:"N",1:"NE",2:"E",3:"SE",4:"S",5:"SW",6:"W",7:"NW"},v=[.05,.125,.25],h={cap:u.fresh,value:f[0],r:0,c:0},b={cap:u.fresh,value:f.void,r:-1,c:-1},j=function(e,t){var n=[];return Object.values(s).forEach((function(c){var r=function(e,t,n){var c=function(e,t){return{C:!0,N:0===t.r,NE:0===t.r||t.c===e[0].length-1,E:t.c===e[0].length-1,SE:t.c===e[0].length-1||t.r===e.length-1,S:t.r===e.length-1,SW:t.r===e.length-1||0===t.c,W:0===t.c,NW:0===t.c||0===t.r}}(e,t),r=0,a=0;n.includes("E")?r=1:n.includes("W")&&(r=-1),n.includes("N")?a=-1:n.includes("S")&&(a=1);var l=b;return c[n]||(l=e[t.r+a][t.c+r]),l}(e,t,c);n.push(r)})),n},g=function(e,t){return 0===j(e,t).filter((function(e){return e.value===f.bomb})).filter((function(e){return![u.flag,u.target].includes(e.cap)})).length},d=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,t=[],n=0;n<e;n++){t[n]=[];for(var c=0;c<e;c++)t[n].push(Object(o.a)(Object(o.a)({},h),{},{r:n,c:c}))}return t}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:12),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(e.length<1)return e;for(var n=0;n<e.length;n++)for(var c=0;c<e[n].length;c++)Math.random()<v[t]&&(e[n][c].value=f.bomb);return e}(t,e),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e.length<1)return e;for(var t=0;t<e.length;t++)for(var n=function(){var n=e[t][c];if(n.value!==f.bomb){var r=j(e,n),a=0;r.forEach((function(e){e.value===f.bomb&&a++})),e[t][c].value=a}},c=0;c<e[t].length;c++)n();return e}(n);return c};function O(e){var t=e.cell,n=e.onCellClick,c=e.onCellRightClick;return Object(i.jsx)("span",{className:"cell",onClick:function(){return n(t)},onContextMenu:function(e){return c(e,t)},children:t.cap})}function p(e){var t=e.row,n=e.onCellClick,c=e.onCellRightClick;return Object(i.jsx)("div",{className:"row",children:t.map((function(e){return Object(i.jsx)(O,{cell:e,onCellClick:n,onCellRightClick:c},"".concat(e.r,"-").concat(e.c))}))})}function m(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(""),v=Object(l.a)(s,2),h=v[0],O=v[1],m=["12x12","20x20","32x32"],x=Object(c.useState)(m[0]),C=Object(l.a)(x,2),S=C[0],N=C[1],k=["\ud83d\udc36","\ud83e\udd81","\ud83e\udd8d"],E=Object(c.useState)(k[0]),W=Object(l.a)(E,2),w=W[0],y=W[1],z=Object(c.useState)(1),R=Object(l.a)(z,2),M=R[0],B=R[1],J=function e(t){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=Object(a.a)(n);(t.value>0&&!c&&(l[t.r][t.c].cap=u[t.value],t.cap!==u.fresh&&g(n,t)&&(console.log(11),e(t,!0))),0===t.value||!0===c)&&(console.log("BP"),l[t.r][t.c].cap=u[t.value],j(n,t).forEach((function(t){t.value!==f.bomb&&t!==b&&u[t.value]!==t.cap&&(l[t.r][t.c].cap=u[l[t.r][t.c].value],0===t.value&&(console.log("r",t.cap,u[t.value],t.value),e(t)))})));r(l)},A=function(){for(var e=!0,t=0;t<n.length;t++)for(var c=0;c<n[t].length;c++){n[t][c].cap===u.fresh&&(e=!1)}e&&O("\ud83c\udfc6")},D=function(e){e.value===f.bomb?function(){for(var e=Object(a.a)(n),t=0;t<n.length;t++)for(var c=0;c<n[t].length;c++)e[t][c].cap=u[n[t][c].value];r(e),O("\u2620\ufe0f")}():(J(e),A())},G=function(e,t){e.preventDefault();var c=Object(a.a)(n),l=Object(o.a)({},t);t.cap===u.target?l.cap=u.fresh:t.cap===u.flag?l.cap=u.target:l.cap=u.flag,c[t.r][t.c]=l,r(c),A()};return Object(i.jsxs)("div",{style:{fontSize:"1em"},children:[Object(i.jsx)("button",{style:{fontSize:"2.4em"},onClick:function(){var e=Number(S.slice(0,2)),t=k.indexOf(w),n=d(e,t);r(n),O(w),B(40/e)},children:"New Game"}),Object(i.jsx)("select",{style:{fontSize:"2.5em"},value:S,onChange:function(e){return N(e.target.value)},children:m.map((function(e){return Object(i.jsx)("option",{value:e,children:e},e)}))}),Object(i.jsx)("select",{style:{fontSize:"2.5em"},value:w,onChange:function(e){return y(e.target.value)},children:k.map((function(e){return Object(i.jsx)("option",{value:e,children:e},e)}))}),Object(i.jsx)("br",{}),Object(i.jsx)("span",{style:{fontSize:"2.5em"},children:h}),n.length>0&&Object(i.jsxs)("div",{className:"BoardWrap",style:{fontSize:"".concat(M,"em")},children:[n.map((function(e,t){return Object(i.jsx)(p,{row:e,onCellClick:D,onCellRightClick:G},"row-".concat(t))})),Object(i.jsx)("br",{})]})]})}function x(){return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)("h2",{children:"Minefield: a game"}),Object(i.jsx)(m,{})]})}var C=document.getElementById("root");Object(r.createRoot)(C).render(Object(i.jsx)(c.StrictMode,{children:Object(i.jsx)(x,{})}))}},[[19,1,2]]]);
//# sourceMappingURL=main.0e18cd02.chunk.js.map